!function(){"use strict";function t(t,e){e.hashPrefix(""),t.when("/",{redirectTo:"/dashboard"}).otherwise({redirectTo:"/"})}function e(t,e,n){t.$on("$locationChangeStart",function(t,e,n){}),t.$on("$routeChangeSuccess",function(){e.current.title?document.title="Ethoz - "+e.current.title:document.title="Ethoz"})}angular.module("main.module",["ngRoute","ui.bootstrap","ngMap","ngDraggable","dashboard.module"]).config(t).run(e),t.$inject=["$routeProvider","$locationProvider"],e.$inject=["$rootScope","$route","$location"]}(),function(){"use strict";function t(t){t.when("/dashboard",{title:"Dashboard",controller:"DashboardController",templateUrl:"app/views/dashboard/dashboard.html",controllerAs:"vm"})}function e(){var t=this;t.onDragComplete=function(t,e){alert("Drag done: "+t)},t.startTime=7,t.sizeHour=6}angular.module("dashboard.module",["ngRoute"]).config(t).controller("DashboardController",e),t.$inject=["$routeProvider"],e.$inject=[]}(),function(){"use strict";function t(){}angular.module("main.module").component("headerPage",{bindings:{},templateUrl:"app/components/headerPage/headerPage.html",controller:t,controllerAs:"vm"}),t.$inject=[]}(),function(){"use strict";function t(t){function e(){if(i.isShowCurrentTime=t.isShowCurrentTime(i.startTime,i.sizeHour),i.isShowCurrentTime){var e=t.getPercentageFromDistance(i.startTime,t.getCurrentTime(),i.startTime,i.sizeHour)+12.5;i.currentTimeStyles={left:e-4+"%"},i.timeText=t.getCurrentTimeText()}}function n(){i.ranges=[],i.textHours=[];for(var t=0;t<i.sizeHour;t++)i.ranges.push(t+i.startTime),i.textHours.push(t+i.startTime);i.textHours.push(i.startTime+i.sizeHour)}function r(){i.startTime+=1,i.$onInit()}function o(){i.startTime-=1,i.$onInit()}var i=this;i.next=r,i.back=o,i.$onInit=function(){n(),e()}}angular.module("main.module").component("timeControl",{bindings:{startTime:"=",sizeHour:"<"},templateUrl:"app/components/dashboard/timeControl/timeControl.html",controller:t,controllerAs:"vm"}),t.$inject=["timeService"]}(),function(){"use strict";function t(t,e){function n(){s.jobs=[{title:"Replacement",startTime:"9",endTime:"10",status:s.status.completed},{title:"Replacement",startTime:"7",endTime:"8:30",status:s.status.pending},{title:"Replacement",startTime:"11:30",endTime:"13:30",status:s.status.unassign}]}function r(){s.draps=[];for(var t=s.startTime,e=0,n=2,r=t;r<s.startTime+s.sizeHour;r++)s.draps.push({style:{left:12.5*n/2+"%"},hour:r,minute:e}),n++,0!=e?30==e&&(e=0):(r--,e=30)}function o(){if(s.isShowCurrentTime=e.isShowCurrentTime(s.startTime,s.sizeHour),s.isShowCurrentTime){var t=e.getPercentageFromDistance(s.startTime,e.getCurrentTime(),s.startTime,s.sizeHour)+12.5;s.currentTimeStyles={left:t-4+"%"}}}function i(){o(),a()}function a(){s.jobs=e.sortByStartTime(s.jobs);for(var t=(s.startTime.toString(),0);t<s.jobs.length;t++){var n=e.getPercentageFromDistance(s.jobs[t].startTime,s.jobs[t].endTime,s.startTime,s.sizeHour);s.jobs[t].style={width:n+"%",left:e.getPercentageFromDistance(s.startTime,s.jobs[t].startTime,s.startTime,s.sizeHour)+12.5+"%"},s.jobs[t].isDisplay=0!==n}}var s=this;s.status={completed:"completed",pending:"pending",unassign:"unassign"},s.onDropComplete=function(t,e,n){var r=angular.copy(t.job),o=n.hour+":"+n.minute,i=n.hour+1+":"+n.minute;r.startTime=o,r.endTime=i,s.jobs.push(r),a()},s.$onInit=function(){n(),o(),a(),r(),t.$watch("vm.startTime",i)}}angular.module("main.module").component("driverChartTime",{bindings:{startTime:"=",sizeHour:"<"},templateUrl:"app/components/dashboard/driverChartTime/driverChartTime.html",controller:t,controllerAs:"vm"}),t.$inject=["$scope","timeService"]}(),function(){"use strict";function t(t){function e(t,e){n.currentJob=e,n.map.showInfoWindow("job-info",e.id)}var n=this;n.showDetail=e,n.$onInit=function(){t.getMap().then(function(t){n.map=t}),n.status={completed:"completed",pending:"pending",notstart:"notstart"},n.jobs=[{id:"123",plateNo:"",address:"20 Ubi Avenue 4, Singapore",title:"Test Driver",status:n.status.notstart},{id:"633",plateNo:"SGR 1451 SDG 6496",address:"Ethoz Group Ltd., Tampines Street 92, Singapore",title:"Replacement",status:n.status.pending},{id:"633",plateNo:"SGR 1451 SDG 6496",address:"Ethoz Group Ltd., Tampines Street 92, Singapore",title:"Replacement",status:n.status.pending}]}}angular.module("main.module").component("jobOnMap",{bindings:{},templateUrl:"app/components/dashboard/jobOnMap/jobOnMap.html",controller:t,controllerAs:"vm"}),t.$inject=["NgMap"]}(),function(){"use strict";function t(t){function e(){a.currentDate.setDate(a.currentDate.getDate()+1),r()}function n(){a.currentDate.setDate(a.currentDate.getDate()-1),r()}function r(){var e=o(a.currentDate)?"Today":t("date")(a.currentDate,"EEE");a.dateFormat=e+", "+i(a.currentDate.getDate())+" "+t("date")(a.currentDate,"MMM")+", "+a.currentDate.getFullYear()}function o(t){var e=new Date;return t.setHours(0,0,0,0)==e.setHours(0,0,0,0)}function i(t){return t%20==1||t%30==1?t+"st":t%20==2||t%30==2?t+"nd":t%20==3||t%30==3?t+"rd":t+"th"}var a=this;a.next=e,a.previous=n,a.$onInit=function(){a.currentDate=new Date,r()}}angular.module("main.module").component("dateControl",{bindings:{},templateUrl:"app/components/dashboard/dateControl/dateControl.html",controller:t,controllerAs:"vm"}),t.$inject=["$filter"]}(),function(){"use strict";function t(){var t=this;t.$onInit=function(){}}angular.module("main.module").component("filterDashboard",{bindings:{},templateUrl:"app/components/dashboard/filterDashboard/filterDashboard.html",controller:t,controllerAs:"vm"}),t.$inject=[]}(),function(){"use strict";function t(){var t=this;t.onDragComplete=function(e,n,r){t.todayJobs.splice(r,1)},t.$onInit=function(){t.status={completed:"completed",pending:"pending",unassign:"unassign"},t.todayJobs=[{id:"123",plateNo:"",address:"20 Ubi Avenue 4, Singapore",title:"Test Driver",status:t.status.unassign,driver:""},{id:"633",plateNo:"SGR 1451 SDG 6496",address:"Ethoz Group Ltd., Tampines Street 92, Singapore",title:"Replacement",status:t.status.pending,driver:"Razif"},{id:"3734",plateNo:"SGR 1451 SDG 6496",address:"Ethoz Group Ltd., Tampines Street 92, Singapore",title:"Replacement",status:t.status.completed,driver:"Meng"}]}}angular.module("main.module").component("jobTab",{bindings:{},templateUrl:"app/components/dashboard/jobTab/jobTab.html",controller:t,controllerAs:"vm"}),t.$inject=[]}(),function(){"use strict";function t(t){function e(e){return t("orderBy")(e,function(t){return t.startTime},!1,r)}function n(t){var e=t.split(":"),n={hour:parseInt(e[0])};return n.minute=e.length>1?parseInt(e[1]):0,n}function r(t,e){if(!Number.isInteger(t.value)&&!Number.isInteger(e.value)){var r=n(t.value),o=n(e.value);return r.hour>o.hour||r.hour==o.hour&&r.minute>o.minute}}var o={sortByStartTime:e,getTimeObject:n};return o}angular.module("main.module").factory("utilityService",t),t.$inject=["$filter"]}(),function(){"use strict";function t(t){function e(t,e){var n=new Date,r=n.getHours(),o=n.getMinutes();return!(r<t||r>t+e||r===t+e&&o>0)}function n(t,e,n,o){var a=i(t.toString()),s=i(e),u=r(s,n,o)-r(a,n,o);return c*u/60}function r(t,e,n){var r=t.hour,o=t.minute;return r<e&&(r=e,o=0),(r>e+n||r===e+n&&o>0)&&(r=e+n,o=0),60*r+o}function o(e){return t("orderBy")(e,function(t){return t.startTime},!1,u)}function i(t){var e=t.split(":"),n={hour:parseInt(e[0])};return n.minute=e.length>1?parseInt(e[1]):0,n}function a(){var t=new Date;return t.getHours()+":"+t.getMinutes()}function s(){return t("date")(new Date,"h:mma")}function u(t,e){if(!Number.isInteger(t.value)&&!Number.isInteger(e.value)){var n=i(t.value),r=i(e.value);return n.hour>r.hour||n.hour==r.hour&&n.minute>r.minute}}var c=12.5,m={sortByStartTime:o,getTimeObject:i,getCurrentTime:a,getPercentageFromDistance:n,isShowCurrentTime:e,getCurrentTimeText:s};return m}angular.module("main.module").factory("timeService",t),t.$inject=["$filter"]}();